---
Link: "[23NC10F](https://ac.nowcoder.com/acm/contest/57364/F)"
done: true
tags:
  - bitmask
---

考虑使用 DP 解决该问题，最直接的状态为 $(c,S,M)$，其中 $c$ 是当前时间，$S$ 是已解决的问题集合，$M$ 是过去 $k$ 分钟内提交问题的时刻集合，状态总数为 $t\cdot 2^n\cdot 2^k$。然而，$t\cdot 2^n\cdot 2^k$ 对于本题数据范围来说过于巨大。因此，我们尝试减少状态数量。

我们发现对于已解决的问题集合 $S$，只有 $S$ 的大小 $|S|$ 有意义，即令 $P_1$, $P_2$ 是两个在 $c$ 时刻，提交状态为 $M$，分别解决了 $S_1$, $S_2$ 的方案，其中 $|S_1|=|S_2|$，则 $P_1$ 和 $P_2$ 在 $c$ 时刻后的后续方案一一对应。这是因为不同问题之间的区别仅在于其最早的可提交时间，而如果 $S_1$, $S_2$ 都有可能在 $c$ 时刻被完成则它们的最早可提交时间都早于 $c$，因此它们在后续的方案中完全等价。因此，我们将第二维改为 $|S|$，状态数量降低到了 $tn\cdot 2^k$。