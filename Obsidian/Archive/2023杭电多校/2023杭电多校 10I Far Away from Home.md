---
link: "[23HDU10I](http://acm.hdu.edu.cn/showproblem.php?pid=7391)"
done: true
tags:
  - simulation
---

用 $f(x)$ 表示将房屋设在 $x$ 处的代价。因为我们只需要将每样物品各购买一个，所以每样物品对 $f(x)$ 的贡献独立，可以分开计算。我们考虑第 $i$ 个物品对 $f(x)$ 的贡献，可以发现其是一个连续的分段函数，在有物品出售的位置取 $0$ 值，每段都是斜率为 $1$ 或 $-1$ 的一次函数。因此，可以将每样物品的贡献求出，用差分形式对分段函数求和，再遍历每一段就能求出 $\min f(x)$。